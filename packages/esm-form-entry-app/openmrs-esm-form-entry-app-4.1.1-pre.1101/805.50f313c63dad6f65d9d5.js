"use strict";(self["webpackJsonpopenmrs-esm-form-entry"]=self["webpackJsonpopenmrs-esm-form-entry"]||[]).push([[805],{8570:(Se,W,f)=>{f.d(W,{PW:()=>Kn});var E=f(6018),L=f(5566),T=f(7629);function z(){return"undefined"!=typeof window&&void 0!==window.document}function w(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function I(n){switch(n.length){case 0:return new T.ZN;case 1:return n[0];default:return new T.ZE(n)}}function X(n,e,t,s,i={},r={}){const a=[],l=[];let u=-1,h=null;if(s.forEach(y=>{const _=y.offset,D=_==u,j=D&&h||{};Object.keys(y).forEach(O=>{let M=O,k=y[O];if("offset"!==O)switch(M=e.normalizePropertyName(M,a),k){case T.k1:k=i[O];break;case T.l3:k=r[O];break;default:k=e.normalizeStyleValue(O,M,k,a)}j[M]=k}),D||l.push(j),h=j,u=_}),a.length){const y="\n - ";throw new Error(`Unable to animate due to the following errors:${y}${a.join(y)}`)}return l}function H(n,e,t,s){switch(e){case"start":n.onStart(()=>s(t&&B(t,"start",n)));break;case"done":n.onDone(()=>s(t&&B(t,"done",n)));break;case"destroy":n.onDestroy(()=>s(t&&B(t,"destroy",n)))}}function B(n,e,t){const s=t.totalTime,r=te(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==s?n.totalTime:s,!!t.disabled),a=n._data;return null!=a&&(r._data=a),r}function te(n,e,t,s,i="",r=0,a){return{element:n,triggerName:e,fromState:t,toState:s,phaseName:i,totalTime:r,disabled:!!a}}function v(n,e,t){let s;return n instanceof Map?(s=n.get(e),s||n.set(e,s=t)):(s=n[e],s||(s=n[e]=t)),s}function R(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let Y=(n,e)=>!1,K=(n,e)=>!1,A=(n,e,t)=>[];const F=w();(F||"undefined"!=typeof Element)&&(Y=z()?(n,e)=>{for(;e&&e!==document.documentElement;){if(e===n)return!0;e=e.parentNode||e.host}return!1}:(n,e)=>n.contains(e),K=(()=>{if(F||Element.prototype.matches)return(n,e)=>n.matches(e);{const n=Element.prototype,e=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return e?(t,s)=>e.apply(t,[s]):K}})(),A=(n,e,t)=>{let s=[];if(t){const i=n.querySelectorAll(e);for(let r=0;r<i.length;r++)s.push(i[r])}else{const i=n.querySelector(e);i&&s.push(i)}return s});let J=null,he=!1;function Ie(n){J||(J=("undefined"!=typeof document?document.body:null)||{},he=!!J.style&&"WebkitAppearance"in J.style);let e=!0;return J.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in J.style,!e&&he&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in J.style)),e}const ye=K,Je=Y,Ke=A;function et(n){const e={};return Object.keys(n).forEach(t=>{const s=t.replace(/([a-z])([A-Z])/g,"$1-$2");e[s]=n[t]}),e}let Le=(()=>{class n{validateStyleProperty(t){return Ie(t)}matchesElement(t,s){return ye(t,s)}containsElement(t,s){return Je(t,s)}query(t,s,i){return Ke(t,s,i)}computeStyle(t,s,i){return i||""}animate(t,s,i,r,a,l=[],u){return new T.ZN(i,r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=E.Yz7({token:n,factory:n.\u0275fac}),n})(),je=(()=>{class n{}return n.NOOP=new Le,n})();const ht="ng-enter",ft="ng-leave",tt="ng-trigger",ke=".ng-trigger",wt="ng-animating",dt=".ng-animating";function Ae(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Ot(parseFloat(e[1]),e[2])}function Ot(n,e){return"s"===e?1e3*n:n}function mt(n,e,t){return n.hasOwnProperty("duration")?n:function(n,e,t){let i,r=0,a="";if("string"==typeof n){const l=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===l)return e.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};i=Ot(parseFloat(l[1]),l[2]);const u=l[3];null!=u&&(r=Ot(parseFloat(u),l[4]));const h=l[5];h&&(a=h)}else i=n;if(!t){let l=!1,u=e.length;i<0&&(e.push("Duration values below 0 are not allowed for this animation step."),l=!0),r<0&&(e.push("Delay values below 0 are not allowed for this animation step."),l=!0),l&&e.splice(u,0,`The provided timing value "${n}" is invalid.`)}return{duration:i,delay:r,easing:a}}(n,e,t)}function $e(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function be(n,e,t={}){if(e)for(let s in n)t[s]=n[s];else $e(n,t);return t}function Re(n,e,t){return t?e+":"+t+";":""}function Ct(n){let e="";for(let t=0;t<n.style.length;t++){const s=n.style.item(t);e+=Re(0,s,n.style.getPropertyValue(s))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=Re(0,Jt(t),n.style[t]));n.setAttribute("style",e)}function Te(n,e,t){n.style&&(Object.keys(e).forEach(s=>{const i=pt(s);t&&!t.hasOwnProperty(s)&&(t[s]=n.style[i]),n.style[i]=e[s]}),w()&&Ct(n))}function Fe(n,e){n.style&&(Object.keys(e).forEach(t=>{const s=pt(t);n.style[s]=""}),w()&&Ct(n))}function Ue(n){return Array.isArray(n)?1==n.length?n[0]:(0,T.vP)(n):n}const ze=new RegExp("{{\\s*(.+?)\\s*}}","g");function qt(n){let e=[];if("string"==typeof n){let t;for(;t=ze.exec(n);)e.push(t[1]);ze.lastIndex=0}return e}function st(n,e,t){const s=n.toString(),i=s.replace(ze,(r,a)=>{let l=e[a];return e.hasOwnProperty(a)||(t.push(`Please provide a value for the animation param ${a}`),l=""),l.toString()});return i==s?n:i}function yt(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const _s=/-+([a-z0-9])/g;function pt(n){return n.replace(_s,(...e)=>e[1].toUpperCase())}function Jt(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Nt(n,e){return 0===n||0===e}function es(n,e,t){const s=Object.keys(t);if(s.length&&e.length){let r=e[0],a=[];if(s.forEach(l=>{r.hasOwnProperty(l)||a.push(l),r[l]=t[l]}),a.length)for(var i=1;i<e.length;i++){let l=e[i];a.forEach(function(u){l[u]=Dt(n,u)})}}return e}function fe(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function Dt(n,e){return window.getComputedStyle(n)[e]}function Mt(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(s=>function(n,e,t){if(":"==n[0]){const u=function(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,s)=>parseFloat(s)>parseFloat(t);case":decrement":return(t,s)=>parseFloat(s)<parseFloat(t);default:return e.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,t);if("function"==typeof u)return void e.push(u);n=u}const s=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==s||s.length<4)return t.push(`The provided transition expression "${n}" is not supported`),e;const i=s[1],r=s[2],a=s[3];e.push(ss(i,a));"<"==r[0]&&!("*"==i&&"*"==a)&&e.push(ss(a,i))}(s,t,e)):t.push(n),t}const Ge=new Set(["true","1"]),_t=new Set(["false","0"]);function ss(n,e){const t=Ge.has(n)||_t.has(n),s=Ge.has(e)||_t.has(e);return(i,r)=>{let a="*"==n||n==i,l="*"==e||e==r;return!a&&t&&"boolean"==typeof i&&(a=i?Ge.has(n):_t.has(n)),!l&&s&&"boolean"==typeof r&&(l=r?Ge.has(e):_t.has(e)),a&&l}}const It=new RegExp("s*:selfs*,?","g");function Qe(n,e,t){return new Rt(n).build(e,t)}class Rt{constructor(e){this._driver=e}build(e,t){const s=new vs(t);return this._resetContextStyleTimingState(s),fe(this,Ue(e),s)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let s=t.queryCount=0,i=t.depCount=0;const r=[],a=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(l=>{if(this._resetContextStyleTimingState(t),0==l.type){const u=l,h=u.name;h.toString().split(/\s*,\s*/).forEach(y=>{u.name=y,r.push(this.visitState(u,t))}),u.name=h}else if(1==l.type){const u=this.visitTransition(l,t);s+=u.queryCount,i+=u.depCount,a.push(u)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:r,transitions:a,queryCount:s,depCount:i,options:null}}visitState(e,t){const s=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(s.containsDynamicStyles){const r=new Set,a=i||{};if(s.styles.forEach(l=>{if(Et(l)){const u=l;Object.keys(u).forEach(h=>{qt(u[h]).forEach(y=>{a.hasOwnProperty(y)||r.add(y)})})}}),r.size){const l=yt(r.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${l.join(", ")}`)}}return{type:0,name:e.name,style:s,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const s=fe(this,Ue(e.animation),t);return{type:1,matchers:Mt(e.expr,t.errors),animation:s,queryCount:t.queryCount,depCount:t.depCount,options:Ze(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(s=>fe(this,s,t)),options:Ze(e.options)}}visitGroup(e,t){const s=t.currentTime;let i=0;const r=e.steps.map(a=>{t.currentTime=s;const l=fe(this,a,t);return i=Math.max(i,t.currentTime),l});return t.currentTime=i,{type:3,steps:r,options:Ze(e.options)}}visitAnimate(e,t){const s=function(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return Zt(mt(n,e).duration,0,"");const s=n;if(s.split(/\s+/).some(r=>"{"==r.charAt(0)&&"{"==r.charAt(1))){const r=Zt(0,0,"");return r.dynamic=!0,r.strValue=s,r}return t=t||mt(s,e),Zt(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=s;let i,r=e.styles?e.styles:(0,T.oB)({});if(5==r.type)i=this.visitKeyframes(r,t);else{let a=e.styles,l=!1;if(!a){l=!0;const h={};s.easing&&(h.easing=s.easing),a=(0,T.oB)(h)}t.currentTime+=s.duration+s.delay;const u=this.visitStyle(a,t);u.isEmptyStep=l,i=u}return t.currentAnimateTimings=null,{type:4,timings:s,style:i,options:null}}visitStyle(e,t){const s=this._makeStyleAst(e,t);return this._validateStyleAst(s,t),s}_makeStyleAst(e,t){const s=[];Array.isArray(e.styles)?e.styles.forEach(a=>{"string"==typeof a?a==T.l3?s.push(a):t.errors.push(`The provided style string value ${a} is not allowed.`):s.push(a)}):s.push(e.styles);let i=!1,r=null;return s.forEach(a=>{if(Et(a)){const l=a,u=l.easing;if(u&&(r=u,delete l.easing),!i)for(let h in l)if(l[h].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:s,easing:r,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const s=t.currentAnimateTimings;let i=t.currentTime,r=t.currentTime;s&&r>0&&(r-=s.duration+s.delay),e.styles.forEach(a=>{"string"!=typeof a&&Object.keys(a).forEach(l=>{if(!this._driver.validateStyleProperty(l))return void t.errors.push(`The provided animation property "${l}" is not a supported CSS property for animations`);const u=t.collectedStyles[t.currentQuerySelector],h=u[l];let y=!0;h&&(r!=i&&r>=h.startTime&&i<=h.endTime&&(t.errors.push(`The CSS property "${l}" that exists between the times of "${h.startTime}ms" and "${h.endTime}ms" is also being animated in a parallel animation between the times of "${r}ms" and "${i}ms"`),y=!1),r=h.startTime),y&&(u[l]={startTime:r,endTime:i}),t.options&&function(n,e,t){const s=e.params||{},i=qt(n);i.length&&i.forEach(r=>{s.hasOwnProperty(r)||t.push(`Unable to resolve the local animation param ${r} in the given list of values`)})}(a[l],t.options,t.errors)})})}visitKeyframes(e,t){const s={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),s;let r=0;const a=[];let l=!1,u=!1,h=0;const y=e.steps.map(ie=>{const ae=this._makeStyleAst(ie,t);let _e=null!=ae.offset?ae.offset:function(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(Et(t)&&t.hasOwnProperty("offset")){const s=t;e=parseFloat(s.offset),delete s.offset}});else if(Et(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(ae.styles),me=0;return null!=_e&&(r++,me=ae.offset=_e),u=u||me<0||me>1,l=l||me<h,h=me,a.push(me),ae});u&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),l&&t.errors.push("Please ensure that all keyframe offsets are in order");const _=e.steps.length;let D=0;r>0&&r<_?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(D=1/(_-1));const j=_-1,O=t.currentTime,M=t.currentAnimateTimings,k=M.duration;return y.forEach((ie,ae)=>{const _e=D>0?ae==j?1:D*ae:a[ae],me=_e*k;t.currentTime=O+M.delay+me,M.duration=me,this._validateStyleAst(ie,t),ie.offset=_e,s.styles.push(ie)}),s}visitReference(e,t){return{type:8,animation:fe(this,Ue(e.animation),t),options:Ze(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Ze(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Ze(e.options)}}visitQuery(e,t){const s=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[r,a]=function(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(It,"")),n=n.replace(/@\*/g,ke).replace(/@\w+/g,t=>ke+"-"+t.substr(1)).replace(/:animating/g,dt),[n,e]}(e.selector);t.currentQuerySelector=s.length?s+" "+r:r,v(t.collectedStyles,t.currentQuerySelector,{});const l=fe(this,Ue(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=s,{type:11,selector:r,limit:i.limit||0,optional:!!i.optional,includeSelf:a,animation:l,originalSelector:e.selector,options:Ze(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const s="full"===e.timings?{duration:0,delay:0,easing:"full"}:mt(e.timings,t.errors,!0);return{type:12,animation:fe(this,Ue(e.animation),t),timings:s,options:null}}}class vs{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Et(n){return!Array.isArray(n)&&"object"==typeof n}function Ze(n){return n?(n=$e(n)).params&&(n.params=function(n){return n?$e(n):null}(n.params)):n={},n}function Zt(n,e,t){return{duration:n,delay:e,easing:t}}function Bt(n,e,t,s,i,r,a=null,l=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:s,duration:i,delay:r,totalTime:i+r,easing:a,subTimeline:l}}class Tt{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let s=this._map.get(e);s||this._map.set(e,s=[]),s.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const bs=new RegExp(":enter","g"),ws=new RegExp(":leave","g");function Kt(n,e,t,s,i,r={},a={},l,u,h=[]){return(new jt).buildKeyframes(n,e,t,s,i,r,a,l,u,h)}class jt{buildKeyframes(e,t,s,i,r,a,l,u,h,y=[]){h=h||new Tt;const _=new kt(e,t,h,i,r,y,[]);_.options=u,_.currentTimeline.setStyles([a],null,_.errors,u),fe(this,s,_);const D=_.timelines.filter(j=>j.containsAnimation());if(D.length&&Object.keys(l).length){const j=D[D.length-1];j.allowOnlyTimelineStyles()||j.setStyles([l],null,_.errors,u)}return D.length?D.map(j=>j.buildKeyframes()):[Bt(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const s=t.subInstructions.consume(t.element);if(s){const i=t.createSubContext(e.options),r=t.currentTimeline.currentTime,a=this._visitSubInstructions(s,i,i.options);r!=a&&t.transformIntoNewTimeline(a)}t.previousNode=e}visitAnimateRef(e,t){const s=t.createSubContext(e.options);s.transformIntoNewTimeline(),this.visitReference(e.animation,s),t.transformIntoNewTimeline(s.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,s){let r=t.currentTimeline.currentTime;const a=null!=s.duration?Ae(s.duration):null,l=null!=s.delay?Ae(s.delay):null;return 0!==a&&e.forEach(u=>{const h=t.appendInstructionToTimeline(u,a,l);r=Math.max(r,h.duration+h.delay)}),r}visitReference(e,t){t.updateOptions(e.options,!0),fe(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const s=t.subContextCount;let i=t;const r=e.options;if(r&&(r.params||r.delay)&&(i=t.createSubContext(r),i.transformIntoNewTimeline(),null!=r.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=vt);const a=Ae(r.delay);i.delayNextStep(a)}e.steps.length&&(e.steps.forEach(a=>fe(this,a,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>s&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const s=[];let i=t.currentTimeline.currentTime;const r=e.options&&e.options.delay?Ae(e.options.delay):0;e.steps.forEach(a=>{const l=t.createSubContext(e.options);r&&l.delayNextStep(r),fe(this,a,l),i=Math.max(i,l.currentTimeline.currentTime),s.push(l.currentTimeline)}),s.forEach(a=>t.currentTimeline.mergeTimelineCollectedStyles(a)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const s=e.strValue;return mt(t.params?st(s,t.params,t.errors):s,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const s=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;s.delay&&(t.incrementTime(s.delay),i.snapshotCurrentStyles());const r=e.style;5==r.type?this.visitKeyframes(r,t):(t.incrementTime(s.duration),this.visitStyle(r,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const s=t.currentTimeline,i=t.currentAnimateTimings;!i&&s.getCurrentStyleProperties().length&&s.forwardFrame();const r=i&&i.easing||e.easing;e.isEmptyStep?s.applyEmptyStep(r):s.setStyles(e.styles,r,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const s=t.currentAnimateTimings,i=t.currentTimeline.duration,r=s.duration,l=t.createSubContext().currentTimeline;l.easing=s.easing,e.styles.forEach(u=>{l.forwardTime((u.offset||0)*r),l.setStyles(u.styles,u.easing,t.errors,t.options),l.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(l),t.transformIntoNewTimeline(i+r),t.previousNode=e}visitQuery(e,t){const s=t.currentTimeline.currentTime,i=e.options||{},r=i.delay?Ae(i.delay):0;r&&(6===t.previousNode.type||0==s&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=vt);let a=s;const l=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=l.length;let u=null;l.forEach((h,y)=>{t.currentQueryIndex=y;const _=t.createSubContext(e.options,h);r&&_.delayNextStep(r),h===t.element&&(u=_.currentTimeline),fe(this,e.animation,_),_.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,_.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(a),u&&(t.currentTimeline.mergeTimelineCollectedStyles(u),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const s=t.parentContext,i=t.currentTimeline,r=e.timings,a=Math.abs(r.duration),l=a*(t.currentQueryTotal-1);let u=a*t.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":u=l-u;break;case"full":u=s.currentStaggerTime}const y=t.currentTimeline;u&&y.delayNextStep(u);const _=y.currentTime;fe(this,e.animation,t),t.previousNode=e,s.currentStaggerTime=i.currentTime-_+(i.startTime-s.currentTimeline.startTime)}}const vt={};class kt{constructor(e,t,s,i,r,a,l,u){this._driver=e,this.element=t,this.subInstructions=s,this._enterClassName=i,this._leaveClassName=r,this.errors=a,this.timelines=l,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=vt,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new Be(this._driver,t,0),l.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const s=e;let i=this.options;null!=s.duration&&(i.duration=Ae(s.duration)),null!=s.delay&&(i.delay=Ae(s.delay));const r=s.params;if(r){let a=i.params;a||(a=this.options.params={}),Object.keys(r).forEach(l=>{(!t||!a.hasOwnProperty(l))&&(a[l]=st(r[l],a,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const s=e.params={};Object.keys(t).forEach(i=>{s[i]=t[i]})}}return e}createSubContext(e=null,t,s){const i=t||this.element,r=new kt(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,s||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(e),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(e){return this.previousNode=vt,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,s){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=s?s:0)+e.delay,easing:""},r=new rs(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(r),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,s,i,r,a){let l=[];if(i&&l.push(this.element),e.length>0){e=(e=e.replace(bs,"."+this._enterClassName)).replace(ws,"."+this._leaveClassName);let h=this._driver.query(this.element,e,1!=s);0!==s&&(h=s<0?h.slice(h.length+s,h.length):h.slice(0,s)),l.push(...h)}return!r&&0==l.length&&a.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),l}}class Be{constructor(e,t,s,i){this._driver=e,this.element=t,this.startTime=s,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Be(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||T.l3,this._currentKeyframe[t]=T.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,s,i){t&&(this._previousKeyframe.easing=t);const r=i&&i.params||{},a=function(n,e){const t={};let s;return n.forEach(i=>{"*"===i?(s=s||Object.keys(e),s.forEach(r=>{t[r]=T.l3})):be(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(a).forEach(l=>{const u=st(a[l],r,s);this._pendingStyles[l]=u,this._localTimelineStyles.hasOwnProperty(l)||(this._backFill[l]=this._globalTimelineStyles.hasOwnProperty(l)?this._globalTimelineStyles[l]:T.l3),this._updateStyle(l,u)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(s=>{this._currentKeyframe[s]=e[s]}),Object.keys(this._localTimelineStyles).forEach(s=>{this._currentKeyframe.hasOwnProperty(s)||(this._currentKeyframe[s]=this._localTimelineStyles[s])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const s=this._styleSummary[t],i=e._styleSummary[t];(!s||i.time>s.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,s=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((l,u)=>{const h=be(l,!0);Object.keys(h).forEach(y=>{const _=h[y];_==T.k1?e.add(y):_==T.l3&&t.add(y)}),s||(h.offset=u/this.duration),i.push(h)});const r=e.size?yt(e.values()):[],a=t.size?yt(t.values()):[];if(s){const l=i[0],u=$e(l);l.offset=0,u.offset=1,i=[l,u]}return Bt(this.element,i,r,a,this.duration,this.startTime,this.easing,!1)}}class rs extends Be{constructor(e,t,s,i,r,a,l=!1){super(e,t,a.delay),this.keyframes=s,this.preStyleProps=i,this.postStyleProps=r,this._stretchStartingKeyframe=l,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:s,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const r=[],a=s+t,l=t/a,u=be(e[0],!1);u.offset=0,r.push(u);const h=be(e[0],!1);h.offset=$t(l),r.push(h);const y=e.length-1;for(let _=1;_<=y;_++){let D=be(e[_],!1);D.offset=$t((t+D.offset*s)/a),r.push(D)}s=a,t=0,i="",e=r}return Bt(this.element,e,this.preStyleProps,this.postStyleProps,s,t,i,!0)}}function $t(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class Ut{}class Cs extends Ut{normalizePropertyName(e,t){return pt(e)}normalizeStyleValue(e,t,s,i){let r="";const a=s.toString().trim();if(Ns[t]&&0!==s&&"0"!==s)if("number"==typeof s)r="px";else{const l=s.match(/^[+-]?[\d\.]+([a-z]*)$/);l&&0==l[1].length&&i.push(`Please provide a CSS unit value for ${e}:${s}`)}return a+r}}const Ns=(()=>function(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function as(n,e,t,s,i,r,a,l,u,h,y,_,D){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:r,toState:s,toStyles:a,timelines:l,queriedElements:u,preStyleProps:h,postStyleProps:y,totalTime:_,errors:D}}const zt={};class os{constructor(e,t,s){this._triggerName=e,this.ast=t,this._stateStyles=s}match(e,t,s,i){return function(n,e,t,s,i){return n.some(r=>r(e,t,s,i))}(this.ast.matchers,e,t,s,i)}buildStyles(e,t,s){const i=this._stateStyles["*"],r=this._stateStyles[e],a=i?i.buildStyles(t,s):{};return r?r.buildStyles(t,s):a}build(e,t,s,i,r,a,l,u,h,y){const _=[],D=this.ast.options&&this.ast.options.params||zt,O=this.buildStyles(s,l&&l.params||zt,_),M=u&&u.params||zt,k=this.buildStyles(i,M,_),ie=new Set,ae=new Map,_e=new Map,me="void"===i,ms={params:Object.assign(Object.assign({},D),M)},He=y?[]:Kt(e,t,this.ast.animation,r,a,O,k,ms,h,_);let Ee=0;if(He.forEach(ut=>{Ee=Math.max(ut.duration+ut.delay,Ee)}),_.length)return as(t,this._triggerName,s,i,me,O,k,[],[],ae,_e,Ee,_);He.forEach(ut=>{const ct=ut.element,En=v(ae,ct,{});ut.preStyleProps.forEach(xt=>En[xt]=!0);const ks=v(_e,ct,{});ut.postStyleProps.forEach(xt=>ks[xt]=!0),ct!==t&&ie.add(ct)});const lt=yt(ie.values());return as(t,this._triggerName,s,i,me,O,k,He,lt,ae,_e,Ee)}}class Is{constructor(e,t,s){this.styles=e,this.defaultParams=t,this.normalizer=s}buildStyles(e,t){const s={},i=$e(this.defaultParams);return Object.keys(e).forEach(r=>{const a=e[r];null!=a&&(i[r]=a)}),this.styles.styles.forEach(r=>{if("string"!=typeof r){const a=r;Object.keys(a).forEach(l=>{let u=a[l];u.length>1&&(u=st(u,i,t));const h=this.normalizer.normalizePropertyName(l,t);u=this.normalizer.normalizeStyleValue(l,h,u,t),s[h]=u})}}),s}}class Rs{constructor(e,t,s){this.name=e,this.ast=t,this._normalizer=s,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new Is(i.style,i.options&&i.options.params||{},s)}),nt(this.states,"true","1"),nt(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new os(e,i,this.states))}),this.fallbackTransition=function(n,e,t){return new os(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(a,l)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,s,i){return this.transitionFactories.find(a=>a.match(e,t,s,i))||null}matchStyles(e,t,s){return this.fallbackTransition.buildStyles(e,t,s)}}function nt(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const Fs=new Tt;class Zs{constructor(e,t,s){this.bodyNode=e,this._driver=t,this._normalizer=s,this._animations={},this._playersById={},this.players=[]}register(e,t){const s=[],i=Qe(this._driver,t,s);if(s.length)throw new Error(`Unable to build the animation due to the following errors: ${s.join("\n")}`);this._animations[e]=i}_buildPlayer(e,t,s){const i=e.element,r=X(0,this._normalizer,0,e.keyframes,t,s);return this._driver.animate(i,r,e.duration,e.delay,e.easing,[],!0)}create(e,t,s={}){const i=[],r=this._animations[e];let a;const l=new Map;if(r?(a=Kt(this._driver,t,r,ht,ft,{},{},s,Fs,i),a.forEach(y=>{const _=v(l,y.element,{});y.postStyleProps.forEach(D=>_[D]=null)})):(i.push("The requested animation doesn't exist or has already been destroyed"),a=[]),i.length)throw new Error(`Unable to create the animation due to the following errors: ${i.join("\n")}`);l.forEach((y,_)=>{Object.keys(y).forEach(D=>{y[D]=this._driver.computeStyle(_,D,T.l3)})});const h=I(a.map(y=>{const _=l.get(y.element);return this._buildPlayer(y,{},_)}));return this._playersById[e]=h,h.onDestroy(()=>this.destroy(e)),this.players.push(h),h}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const s=this.players.indexOf(t);s>=0&&this.players.splice(s,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,s,i){const r=te(t,"","","");return H(this._getPlayer(e),s,r,i),()=>{}}command(e,t,s,i){if("register"==s)return void this.register(e,i[0]);if("create"==s)return void this.create(e,t,i[0]||{});const r=this._getPlayer(e);switch(s){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const ls="ng-animate-queued",us="ng-animate-disabled",d=".ng-animate-disabled",we=[],it={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Oe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},x="__ng_removed";class We{constructor(e,t=""){this.namespaceId=t;const s=e&&e.hasOwnProperty("value");if(this.value=null!=(n=s?e.value:e)?n:null,s){const r=$e(e);delete r.value,this.options=r}else this.options={};var n;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const s=this.options.params;Object.keys(t).forEach(i=>{null==s[i]&&(s[i]=t[i])})}}}const Ce="void",Gt=new We(Ce);class cs{constructor(e,t,s){this.id=e,this.hostElement=t,this._engine=s,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,ve(t,this._hostClassName)}listen(e,t,s,i){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${s}" because the animation trigger "${t}" doesn't exist!`);if(null==s||0==s.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if("start"!=(n=s)&&"done"!=n)throw new Error(`The provided animation trigger event "${s}" for the animation trigger "${t}" is not supported!`);var n;const r=v(this._elementListeners,e,[]),a={name:t,phase:s,callback:i};r.push(a);const l=v(this._engine.statesByElement,e,{});return l.hasOwnProperty(t)||(ve(e,tt),ve(e,tt+"-"+t),l[t]=Gt),()=>{this._engine.afterFlush(()=>{const u=r.indexOf(a);u>=0&&r.splice(u,1),this._triggers[t]||delete l[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,s,i=!0){const r=this._getTrigger(t),a=new At(this.id,t,e);let l=this._engine.statesByElement.get(e);l||(ve(e,tt),ve(e,tt+"-"+t),this._engine.statesByElement.set(e,l={}));let u=l[t];const h=new We(s,this.id);if(!(s&&s.hasOwnProperty("value"))&&u&&h.absorbOptions(u.options),l[t]=h,u||(u=Gt),h.value!==Ce&&u.value===h.value){if(!function(n,e){const t=Object.keys(n),s=Object.keys(e);if(t.length!=s.length)return!1;for(let i=0;i<t.length;i++){const r=t[i];if(!e.hasOwnProperty(r)||n[r]!==e[r])return!1}return!0}(u.params,h.params)){const M=[],k=r.matchStyles(u.value,u.params,M),ie=r.matchStyles(h.value,h.params,M);M.length?this._engine.reportError(M):this._engine.afterFlush(()=>{Fe(e,k),Te(e,ie)})}return}const D=v(this._engine.playersByElement,e,[]);D.forEach(M=>{M.namespaceId==this.id&&M.triggerName==t&&M.queued&&M.destroy()});let j=r.matchTransition(u.value,h.value,e,h.params),O=!1;if(!j){if(!i)return;j=r.fallbackTransition,O=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:j,fromState:u,toState:h,player:a,isFallbackTransition:O}),O||(ve(e,ls),a.onStart(()=>{bt(e,ls)})),a.onDone(()=>{let M=this.players.indexOf(a);M>=0&&this.players.splice(M,1);const k=this._engine.playersByElement.get(e);if(k){let ie=k.indexOf(a);ie>=0&&k.splice(ie,1)}}),this.players.push(a),D.push(a),a}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,s)=>{delete t[e]}),this._elementListeners.forEach((t,s)=>{this._elementListeners.set(s,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(s=>s.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const s=this._engine.driver.query(e,ke,!0);s.forEach(i=>{if(i[x])return;const r=this._engine.fetchNamespacesByElement(i);r.size?r.forEach(a=>a.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>s.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,s,i){const r=this._engine.statesByElement.get(e);if(r){const a=[];if(Object.keys(r).forEach(l=>{if(this._triggers[l]){const u=this.trigger(e,l,Ce,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),s&&I(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),s=this._engine.statesByElement.get(e);if(t&&s){const i=new Set;t.forEach(r=>{const a=r.name;if(i.has(a))return;i.add(a);const u=this._triggers[a].fallbackTransition,h=s[a]||Gt,y=new We(Ce),_=new At(this.id,a,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:a,transition:u,fromState:h,toState:y,player:_,isFallbackTransition:!0})})}}removeNode(e,t){const s=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(s.totalAnimations){const r=s.players.length?s.playersByQueriedElement.get(e):[];if(r&&r.length)i=!0;else{let a=e;for(;a=a.parentNode;)if(s.statesByElement.get(a)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)s.markElementAsRemoved(this.id,e,!1,t);else{const r=e[x];(!r||r===it)&&(s.afterFlush(()=>this.clearElementCache(e)),s.destroyInnerAnimations(e),s._onRemovalComplete(e,t))}}insertNode(e,t){ve(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(s=>{const i=s.player;if(i.destroyed)return;const r=s.element,a=this._elementListeners.get(r);a&&a.forEach(l=>{if(l.name==s.triggerName){const u=te(r,s.triggerName,s.fromState.value,s.toState.value);u._data=e,H(s.player,l.phase,u,l.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(s)}),this._queue=[],t.sort((s,i)=>{const r=s.transition.ast.depCount,a=i.transition.ast.depCount;return 0==r||0==a?r-a:this._engine.driver.containsElement(s.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(s=>s.element===e)||t,t}}class xe{constructor(e,t,s){this.bodyNode=e,this.driver=t,this._normalizer=s,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,r)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(s=>{s.queued&&e.push(s)})}),e}createNamespace(e,t){const s=new cs(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(s,t):(this.newHostElements.set(t,s),this.collectEnterElement(t)),this._namespaceLookup[e]=s}_balanceNamespaceList(e,t){const s=this._namespaceList.length-1;if(s>=0){let i=!1;for(let r=s;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,t)){this._namespaceList.splice(r+1,0,e),i=!0;break}i||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let s=this._namespaceLookup[e];return s||(s=this.createNamespace(e,t)),s}registerTrigger(e,t,s){let i=this._namespaceLookup[e];i&&i.register(t,s)&&this.totalAnimations++}destroy(e,t){if(!e)return;const s=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(s.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(s);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>s.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,s=this.statesByElement.get(e);if(s){const i=Object.keys(s);for(let r=0;r<i.length;r++){const a=s[i[r]].namespaceId;if(a){const l=this._fetchNamespace(a);l&&t.add(l)}}}return t}trigger(e,t,s,i){if(rt(t)){const r=this._fetchNamespace(e);if(r)return r.trigger(t,s,i),!0}return!1}insertNode(e,t,s,i){if(!rt(t))return;const r=t[x];if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;const a=this.collectedLeaveElements.indexOf(t);a>=0&&this.collectedLeaveElements.splice(a,1)}if(e){const a=this._fetchNamespace(e);a&&a.insertNode(t,s)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),ve(e,us)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),bt(e,us))}removeNode(e,t,s,i){if(rt(t)){const r=e?this._fetchNamespace(e):null;if(r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),s){const a=this.namespacesByHostElement.get(t);a&&a.id!==e&&a.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,s,i){this.collectedLeaveElements.push(t),t[x]={namespaceId:e,setForRemoval:i,hasAnimation:s,removedBeforeQueried:!1}}listen(e,t,s,i,r){return rt(t)?this._fetchNamespace(e).listen(t,s,i,r):()=>{}}_buildInstruction(e,t,s,i,r){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,s,i,e.fromState.options,e.toState.options,t,r)}destroyInnerAnimations(e){let t=this.driver.query(e,ke,!0);t.forEach(s=>this.destroyActiveAnimationsForElement(s)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,dt,!0),t.forEach(s=>this.finishActiveQueriedAnimationOnElement(s)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(s=>{s.queued?s.markedForDestroy=!0:s.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(s=>s.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return I(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[x];if(t&&t.setForRemoval){if(e[x]=it,t.namespaceId){this.destroyInnerAnimations(e);const s=this._fetchNamespace(t.namespaceId);s&&s.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,d)&&this.markElementAsDisabled(e,!1),this.driver.query(e,d,!0).forEach(s=>{this.markElementAsDisabled(s,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((s,i)=>this._balanceNamespaceList(s,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let s=0;s<this.collectedEnterElements.length;s++)ve(this.collectedEnterElements[s],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const s=[];try{t=this._flushAnimations(s,e)}finally{for(let i=0;i<s.length;i++)s[i]()}}else for(let s=0;s<this.collectedLeaveElements.length;s++)this.processLeaveNode(this.collectedLeaveElements[s]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(s=>s()),this._flushFns=[],this._whenQuietFns.length){const s=this._whenQuietFns;this._whenQuietFns=[],t.length?I(t).onDone(()=>{s.forEach(i=>i())}):s.forEach(i=>i())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const s=new Tt,i=[],r=new Map,a=[],l=new Map,u=new Map,h=new Map,y=new Set;this.disabledNodes.forEach(g=>{y.add(g);const P=this.driver.query(g,".ng-animate-queued",!0);for(let N=0;N<P.length;N++)y.add(P[N])});const _=this.bodyNode,D=Array.from(this.statesByElement.keys()),j=Vs(D,this.collectedEnterElements),O=new Map;let M=0;j.forEach((g,P)=>{const N=ht+M++;O.set(P,N),g.forEach(U=>ve(U,N))});const k=[],ie=new Set,ae=new Set;for(let g=0;g<this.collectedLeaveElements.length;g++){const P=this.collectedLeaveElements[g],N=P[x];N&&N.setForRemoval&&(k.push(P),ie.add(P),N.hasAnimation?this.driver.query(P,".ng-star-inserted",!0).forEach(U=>ie.add(U)):ae.add(P))}const _e=new Map,me=Vs(D,Array.from(ie));me.forEach((g,P)=>{const N=ft+M++;_e.set(P,N),g.forEach(U=>ve(U,N))}),e.push(()=>{j.forEach((g,P)=>{const N=O.get(P);g.forEach(U=>bt(U,N))}),me.forEach((g,P)=>{const N=_e.get(P);g.forEach(U=>bt(U,N))}),k.forEach(g=>{this.processLeaveNode(g)})});const ms=[],He=[];for(let g=this._namespaceList.length-1;g>=0;g--)this._namespaceList[g].drainQueuedTransitions(t).forEach(N=>{const U=N.player,ce=N.element;if(ms.push(U),this.collectedEnterElements.length){const Xe=ce[x];if(Xe&&Xe.setForMove)return void U.destroy()}const Ye=!_||!this.driver.containsElement(_,ce),Pe=_e.get(ce),Pt=O.get(ce),re=this._buildInstruction(N,s,Pt,Pe,Ye);if(re.errors&&re.errors.length)He.push(re);else{if(Ye)return U.onStart(()=>Fe(ce,re.fromStyles)),U.onDestroy(()=>Te(ce,re.toStyles)),void i.push(U);if(N.isFallbackTransition)return U.onStart(()=>Fe(ce,re.fromStyles)),U.onDestroy(()=>Te(ce,re.toStyles)),void i.push(U);re.timelines.forEach(Xe=>Xe.stretchStartingKeyframe=!0),s.append(ce,re.timelines),a.push({instruction:re,player:U,element:ce}),re.queriedElements.forEach(Xe=>v(l,Xe,[]).push(U)),re.preStyleProps.forEach((Xe,$s)=>{const qs=Object.keys(Xe);if(qs.length){let Vt=u.get($s);Vt||u.set($s,Vt=new Set),qs.forEach(nn=>Vt.add(nn))}}),re.postStyleProps.forEach((Xe,$s)=>{const qs=Object.keys(Xe);let Vt=h.get($s);Vt||h.set($s,Vt=new Set),qs.forEach(nn=>Vt.add(nn))})}});if(He.length){const g=[];He.forEach(P=>{g.push(`@${P.triggerName} has failed due to:\n`),P.errors.forEach(N=>g.push(`- ${N}\n`))}),ms.forEach(P=>P.destroy()),this.reportError(g)}const Ee=new Map,lt=new Map;a.forEach(g=>{const P=g.element;s.has(P)&&(lt.set(P,P),this._beforeAnimationBuild(g.player.namespaceId,g.instruction,Ee))}),i.forEach(g=>{const P=g.element;this._getPreviousPlayers(P,!1,g.namespaceId,g.triggerName,null).forEach(U=>{v(Ee,P,[]).push(U),U.destroy()})});const ut=k.filter(g=>sn(g,u,h)),ct=new Map;xs(ct,this.driver,ae,h,T.l3).forEach(g=>{sn(g,u,h)&&ut.push(g)});const ks=new Map;j.forEach((g,P)=>{xs(ks,this.driver,new Set(g),u,T.k1)}),ut.forEach(g=>{const P=ct.get(g),N=ks.get(g);ct.set(g,Object.assign(Object.assign({},P),N))});const xt=[],Sn=[],Tn={};a.forEach(g=>{const{element:P,player:N,instruction:U}=g;if(s.has(P)){if(y.has(P))return N.onDestroy(()=>Te(P,U.toStyles)),N.disabled=!0,N.overrideTotalTime(U.totalTime),void i.push(N);let ce=Tn;if(lt.size>1){let Pe=P;const Pt=[];for(;Pe=Pe.parentNode;){const re=lt.get(Pe);if(re){ce=re;break}Pt.push(Pe)}Pt.forEach(re=>lt.set(re,ce))}const Ye=this._buildAnimation(N.namespaceId,U,Ee,r,ks,ct);if(N.setRealPlayer(Ye),ce===Tn)xt.push(N);else{const Pe=this.playersByElement.get(ce);Pe&&Pe.length&&(N.parentPlayer=I(Pe)),i.push(N)}}else Fe(P,U.fromStyles),N.onDestroy(()=>Te(P,U.toStyles)),Sn.push(N),y.has(P)&&i.push(N)}),Sn.forEach(g=>{const P=r.get(g.element);if(P&&P.length){const N=I(P);g.setRealPlayer(N)}}),i.forEach(g=>{g.parentPlayer?g.syncPlayerEvents(g.parentPlayer):g.destroy()});for(let g=0;g<k.length;g++){const P=k[g],N=P[x];if(bt(P,ft),N&&N.hasAnimation)continue;let U=[];if(l.size){let Ye=l.get(P);Ye&&Ye.length&&U.push(...Ye);let Pe=this.driver.query(P,dt,!0);for(let Pt=0;Pt<Pe.length;Pt++){let re=l.get(Pe[Pt]);re&&re.length&&U.push(...re)}}const ce=U.filter(Ye=>!Ye.destroyed);ce.length?Js(this,P,ce):this.processLeaveNode(P)}return k.length=0,xt.forEach(g=>{this.players.push(g),g.onDone(()=>{g.destroy();const P=this.players.indexOf(g);this.players.splice(P,1)}),g.play()}),xt}elementContainsData(e,t){let s=!1;const i=t[x];return i&&i.setForRemoval&&(s=!0),this.playersByElement.has(t)&&(s=!0),this.playersByQueriedElement.has(t)&&(s=!0),this.statesByElement.has(t)&&(s=!0),this._fetchNamespace(e).elementContainsData(t)||s}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,s,i,r){let a=[];if(t){const l=this.playersByQueriedElement.get(e);l&&(a=l)}else{const l=this.playersByElement.get(e);if(l){const u=!r||r==Ce;l.forEach(h=>{h.queued||!u&&h.triggerName!=i||a.push(h)})}}return(s||i)&&(a=a.filter(l=>!(s&&s!=l.namespaceId||i&&i!=l.triggerName))),a}_beforeAnimationBuild(e,t,s){const r=t.element,a=t.isRemovalTransition?void 0:e,l=t.isRemovalTransition?void 0:t.triggerName;for(const u of t.timelines){const h=u.element,y=h!==r,_=v(s,h,[]);this._getPreviousPlayers(h,y,a,l,t.toState).forEach(j=>{const O=j.getRealPlayer();O.beforeDestroy&&O.beforeDestroy(),j.destroy(),_.push(j)})}Fe(r,t.fromStyles)}_buildAnimation(e,t,s,i,r,a){const l=t.triggerName,u=t.element,h=[],y=new Set,_=new Set,D=t.timelines.map(O=>{const M=O.element;y.add(M);const k=M[x];if(k&&k.removedBeforeQueried)return new T.ZN(O.duration,O.delay);const ie=M!==u,ae=function(n){const e=[];return Hs(n,e),e}((s.get(M)||we).map(Ee=>Ee.getRealPlayer())).filter(Ee=>!!Ee.element&&Ee.element===M),_e=r.get(M),me=a.get(M),ms=X(0,this._normalizer,0,O.keyframes,_e,me),He=this._buildPlayer(O,ms,ae);if(O.subTimeline&&i&&_.add(M),ie){const Ee=new At(e,l,M);Ee.setRealPlayer(He),h.push(Ee)}return He});h.forEach(O=>{v(this.playersByQueriedElement,O.element,[]).push(O),O.onDone(()=>function(n,e,t){let s;if(n instanceof Map){if(s=n.get(e),s){if(s.length){const i=s.indexOf(t);s.splice(i,1)}0==s.length&&n.delete(e)}}else if(s=n[e],s){if(s.length){const i=s.indexOf(t);s.splice(i,1)}0==s.length&&delete n[e]}return s}(this.playersByQueriedElement,O.element,O))}),y.forEach(O=>ve(O,wt));const j=I(D);return j.onDestroy(()=>{y.forEach(O=>bt(O,wt)),Te(u,t.toStyles)}),_.forEach(O=>{v(i,O,[]).push(j)}),j}_buildPlayer(e,t,s){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,s):new T.ZN(e.duration,e.delay)}}class At{constructor(e,t,s){this.namespaceId=e,this.triggerName=t,this.element=s,this._player=new T.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(s=>H(e,t,void 0,s))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){v(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function rt(n){return n&&1===n.nodeType}function De(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function xs(n,e,t,s,i){const r=[];t.forEach(u=>r.push(De(u)));const a=[];s.forEach((u,h)=>{const y={};u.forEach(_=>{const D=y[_]=e.computeStyle(h,_,i);(!D||0==D.length)&&(h[x]=Oe,a.push(h))}),n.set(h,y)});let l=0;return t.forEach(u=>De(u,r[l++])),a}function Vs(n,e){const t=new Map;if(n.forEach(l=>t.set(l,[])),0==e.length)return t;const i=new Set(e),r=new Map;function a(l){if(!l)return 1;let u=r.get(l);if(u)return u;const h=l.parentNode;return u=t.has(h)?h:i.has(h)?1:a(h),r.set(l,u),u}return e.forEach(l=>{const u=a(l);1!==u&&t.get(u).push(l)}),t}const Wt="$$classes";function ve(n,e){if(n.classList)n.classList.add(e);else{let t=n[Wt];t||(t=n[Wt]={}),t[e]=!0}}function bt(n,e){if(n.classList)n.classList.remove(e);else{let t=n[Wt];t&&delete t[e]}}function Js(n,e,t){I(t).onDone(()=>n.processLeaveNode(e))}function Hs(n,e){for(let t=0;t<n.length;t++){const s=n[t];s instanceof T.ZE?Hs(s.players,e):e.push(s)}}function sn(n,e,t){const s=t.get(n);if(!s)return!1;let i=e.get(n);return i?s.forEach(r=>i.add(r)):e.set(n,s),t.delete(n),!0}class hs{constructor(e,t,s){this.bodyNode=e,this._driver=t,this._normalizer=s,this._triggerCache={},this.onRemovalComplete=(i,r)=>{},this._transitionEngine=new xe(e,t,s),this._timelineEngine=new Zs(e,t,s),this._transitionEngine.onRemovalComplete=(i,r)=>this.onRemovalComplete(i,r)}registerTrigger(e,t,s,i,r){const a=e+"-"+i;let l=this._triggerCache[a];if(!l){const u=[],h=Qe(this._driver,r,u);if(u.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${u.join("\n - ")}`);l=function(n,e,t){return new Rs(n,e,t)}(i,h,this._normalizer),this._triggerCache[a]=l}this._transitionEngine.registerTrigger(t,i,l)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,s,i){this._transitionEngine.insertNode(e,t,s,i)}onRemove(e,t,s,i){this._transitionEngine.removeNode(e,t,i||!1,s)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,s,i){if("@"==s.charAt(0)){const[r,a]=R(s);this._timelineEngine.command(r,t,a,i)}else this._transitionEngine.trigger(e,t,s,i)}listen(e,t,s,i,r){if("@"==s.charAt(0)){const[a,l]=R(s);return this._timelineEngine.listen(a,t,l,r)}return this._transitionEngine.listen(e,t,s,i,r)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Ys(n,e){let t=null,s=null;return Array.isArray(e)&&e.length?(t=c(e[0]),e.length>1&&(s=c(e[e.length-1]))):e&&(t=c(e)),t||s?new o(n,t,s):null}let o=(()=>{class n{constructor(t,s,i){this._element=t,this._startStyles=s,this._endStyles=i,this._state=0;let r=n.initialStylesByElement.get(t);r||n.initialStylesByElement.set(t,r={}),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Te(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Te(this._element,this._initialStyles),this._endStyles&&(Te(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Fe(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Fe(this._element,this._endStyles),this._endStyles=null),Te(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function c(n){let e=null;const t=Object.keys(n);for(let s=0;s<t.length;s++){const i=t[s];m(i)&&(e=e||{},e[i]=n[i])}return e}function m(n){return"display"===n||"position"===n}const C="animation",S="animationend";class V{constructor(e,t,s,i,r,a,l){this._element=e,this._name=t,this._duration=s,this._delay=i,this._easing=r,this._fillMode=a,this._onDoneFn=l,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=u=>this._handleCallback(u)}apply(){(function(n,e){const t=ge(n,"").trim();let s=0;t.length&&(function(n,e){let t=0;for(let s=0;s<n.length;s++)","===n.charAt(s)&&t++;return t}(t)+1,e=`${t}, ${e}`),de(n,"",e)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Me(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){ne(this._element,this._name,"paused")}resume(){ne(this._element,this._name,"running")}setPosition(e){const t=ue(this._element,this._name);this._position=e*this._duration,de(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),s=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&s>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Me(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,e){const s=ge(n,"").split(","),i=q(s,e);i>=0&&(s.splice(i,1),de(n,"",s.join(",")))}(this._element,this._name))}}function ne(n,e,t){de(n,"PlayState",t,ue(n,e))}function ue(n,e){const t=ge(n,"");return t.indexOf(",")>0?q(t.split(","),e):q([t],e)}function q(n,e){for(let t=0;t<n.length;t++)if(n[t].indexOf(e)>=0)return t;return-1}function Me(n,e,t){t?n.removeEventListener(S,e):n.addEventListener(S,e)}function de(n,e,t,s){const i=C+e;if(null!=s){const r=n.style[i];if(r.length){const a=r.split(",");a[s]=t,t=a.join(",")}}n.style[i]=t}function ge(n,e){return n.style[C+e]||""}class js{constructor(e,t,s,i,r,a,l,u){this.element=e,this.keyframes=t,this.animationName=s,this._duration=i,this._delay=r,this._finalStyles=l,this._specialStyles=u,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=a||"linear",this.totalTime=i+r,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new V(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(s=>s()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(s=>{"offset"!=s&&(e[s]=t?this._finalStyles[s]:Dt(this.element,s))})}this.currentSnapshot=e}}class fs extends T.ZN{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=et(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class on{constructor(){this._count=0}validateStyleProperty(e){return Ie(e)}matchesElement(e,t){return ye(e,t)}containsElement(e,t){return Je(e,t)}query(e,t,s){return Ke(e,t,s)}computeStyle(e,t,s){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,s){s=s.map(l=>et(l));let i=`@keyframes ${t} {\n`,r="";s.forEach(l=>{r=" ";const u=parseFloat(l.offset);i+=`${r}${100*u}% {\n`,r+=" ",Object.keys(l).forEach(h=>{const y=l[h];switch(h){case"offset":return;case"easing":return void(y&&(i+=`${r}animation-timing-function: ${y};\n`));default:return void(i+=`${r}${h}: ${y};\n`)}}),i+=`${r}}\n`}),i+="}\n";const a=document.createElement("style");return a.textContent=i,a}animate(e,t,s,i,r,a=[],l){const u=a.filter(k=>k instanceof js),h={};Nt(s,i)&&u.forEach(k=>{let ie=k.currentSnapshot;Object.keys(ie).forEach(ae=>h[ae]=ie[ae])});const y=function(n){let e={};return n&&(Array.isArray(n)?n:[n]).forEach(s=>{Object.keys(s).forEach(i=>{"offset"==i||"easing"==i||(e[i]=s[i])})}),e}(t=es(e,t,h));if(0==s)return new fs(e,y);const _="gen_css_kf_"+this._count++,D=this.buildKeyframeElement(e,_,t);(function(n){var e;const t=null===(e=n.getRootNode)||void 0===e?void 0:e.call(n);return"undefined"!=typeof ShadowRoot&&t instanceof ShadowRoot?t:document.head})(e).appendChild(D);const O=Ys(e,t),M=new js(e,t,_,s,i,r,y,O);return M.onDestroy(()=>{var n;(n=D).parentNode.removeChild(n)}),M}}class un{constructor(e,t,s,i){this.element=e,this.keyframes=t,this.options=s,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=s.duration,this._delay=s.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,s){return e.animate(t,s)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:Dt(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(s=>s()),t.length=0}}class Pn{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(cn().toString()),this._cssKeyframesDriver=new on}validateStyleProperty(e){return Ie(e)}matchesElement(e,t){return ye(e,t)}containsElement(e,t){return Je(e,t)}query(e,t,s){return Ke(e,t,s)}computeStyle(e,t,s){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,s,i,r,a=[],l){if(!l&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,s,i,r,a);const y={duration:s,delay:i,fill:0==i?"both":"forwards"};r&&(y.easing=r);const _={},D=a.filter(O=>O instanceof un);Nt(s,i)&&D.forEach(O=>{let M=O.currentSnapshot;Object.keys(M).forEach(k=>_[k]=M[k])});const j=Ys(e,t=es(e,t=t.map(O=>be(O,!1)),_));return new un(e,t,y,j)}}function cn(){return z()&&Element.prototype.animate||{}}var hn=f(4531);let On=(()=>{class n extends T._j{constructor(t,s){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(s.body,{id:"0",encapsulation:E.ifc.None,styles:[],data:{animation:[]}})}build(t){const s=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?(0,T.vP)(t):t;return fn(this._renderer,null,s,"register",[i]),new Cn(s,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(E.LFG(E.FYo),E.LFG(hn.K0))},n.\u0275prov=E.Yz7({token:n,factory:n.\u0275fac}),n})();class Cn extends T.LC{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Nn(this._id,e,t||{},this._renderer)}}class Nn{constructor(e,t,s,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",s)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return fn(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function fn(n,e,t,s,i){return n.setProperty(e,`@@${t}:${s}`,i)}const dn="@.disabled";let Dn=(()=>{class n{constructor(t,s,i){this.delegate=t,this.engine=s,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),s.onRemovalComplete=(r,a)=>{a&&a.parentNode(r)&&a.removeChild(r.parentNode,r)}}createRenderer(t,s){const r=this.delegate.createRenderer(t,s);if(!(t&&s&&s.data&&s.data.animation)){let y=this._rendererCache.get(r);return y||(y=new mn("",r,this.engine),this._rendererCache.set(r,y)),y}const a=s.id,l=s.id+"-"+this._currentId;this._currentId++,this.engine.register(l,t);const u=y=>{Array.isArray(y)?y.forEach(u):this.engine.registerTrigger(a,l,t,y.name,y)};return s.data.animation.forEach(u),new Mn(this,l,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,s,i){t>=0&&t<this._microtaskId?this._zone.run(()=>s(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(r=>{const[a,l]=r;a(l)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([s,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(E.LFG(E.FYo),E.LFG(hs),E.LFG(E.R0b))},n.\u0275prov=E.Yz7({token:n,factory:n.\u0275fac}),n})();class mn{constructor(e,t,s){this.namespaceId=e,this.delegate=t,this.engine=s,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,s,i=!0){this.delegate.insertBefore(e,t,s),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,s){this.engine.onRemove(this.namespaceId,t,this.delegate,s)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,s,i){this.delegate.setAttribute(e,t,s,i)}removeAttribute(e,t,s){this.delegate.removeAttribute(e,t,s)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,s,i){this.delegate.setStyle(e,t,s,i)}removeStyle(e,t,s){this.delegate.removeStyle(e,t,s)}setProperty(e,t,s){"@"==t.charAt(0)&&t==dn?this.disableAnimations(e,!!s):this.delegate.setProperty(e,t,s)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,s){return this.delegate.listen(e,t,s)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Mn extends mn{constructor(e,t,s,i){super(t,s,i),this.factory=e,this.namespaceId=t}setProperty(e,t,s){"@"==t.charAt(0)?"."==t.charAt(1)&&t==dn?this.disableAnimations(e,s=void 0===s||!!s):this.engine.process(this.namespaceId,e,t.substr(1),s):this.delegate.setProperty(e,t,s)}listen(e,t,s){if("@"==t.charAt(0)){const i=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let r=t.substr(1),a="";return"@"!=r.charAt(0)&&([r,a]=function(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(r)),this.engine.listen(this.namespaceId,i,r,a,l=>{this.factory.scheduleListenerCallback(l._data||-1,s,l)})}return this.delegate.listen(e,t,s)}}let Rn=(()=>{class n extends hs{constructor(t,s,i){super(t.body,s,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(E.LFG(hn.K0),E.LFG(je),E.LFG(Ut))},n.\u0275prov=E.Yz7({token:n,factory:n.\u0275fac}),n})();const yn=new E.OlP("AnimationModuleType"),pn=[{provide:T._j,useClass:On},{provide:Ut,useFactory:function(){return new Cs}},{provide:hs,useClass:Rn},{provide:E.FYo,useFactory:function(n,e,t){return new Dn(n,e,t)},deps:[L.se,hs,E.R0b]}],gn=[{provide:je,useFactory:function(){return"function"==typeof cn()?new Pn:new on}},{provide:yn,useValue:"BrowserAnimations"},...pn],_n=[{provide:je,useClass:Le},{provide:yn,useValue:"NoopAnimations"},...pn];let Kn=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?_n:gn}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=E.oAB({type:n}),n.\u0275inj=E.cJS({providers:gn,imports:[L.b2]}),n})()},3175:(Se,W,f)=>{f.d(W,{Qe:()=>B,Zx:()=>v});var E=f(5);var I=f(6018),X=f(4531);let H=(()=>{class b extends X.Kj{constructor(){super(...arguments),this.skipNextPopState=!1,this.source="Window.addEventListener:popstate"}pushState($,F,le){this.skipNextPopState=!0,super.pushState($,F,le)}replaceState($,F,le){this.skipNextPopState=!0,super.replaceState($,F,le)}onPopState($){return $=Zone.current.wrap($,this.source),super.onPopState(J=>{this.skipNextPopState&&J.singleSpa?this.skipNextPopState=!1:$(J)})}}return b.\u0275fac=function(){let A;return function(F){return(A||(A=I.n5z(b)))(F||b)}}(),b.\u0275prov=I.Yz7({token:b,factory:b.\u0275fac}),b})();function B(){return[{provide:H,deps:[[new I.tBr(X.K0)]]},{provide:X.lw,useExisting:H}]}const te={NgZone:null,bootstrapFunction:null,template:null,Router:void 0,domElementGetter:void 0,updateFunction:()=>Promise.resolve(),bootstrappedModule:null};function v(b){if("object"!=typeof b)throw Error("single-spa-angular requires a configuration object");const A=Object.assign(Object.assign({},te),b);if("function"!=typeof A.bootstrapFunction)throw Error("single-spa-angular must be passed an options.bootstrapFunction");if("string"!=typeof A.template)throw Error("single-spa-angular must be passed options.template string");if(!A.NgZone)throw Error("single-spa-angular must be passed the NgZone option");return A.Router&&!A.NavigationStart&&console.warn("single-spa-angular must be passed the NavigationStart option"),{bootstrap:R.bind(null,A),mount:Y.bind(null,A),unmount:se.bind(null,A),update:A.updateFunction}}function R(b,A){return(0,E.mG)(this,void 0,void 0,function*(){"noop"!==b.NgZone&&(b.zoneIdentifier=`single-spa-angular:${A.name||A.appName}`,b.NgZone.isInAngularZone=()=>!0===window.Zone.current._properties[b.zoneIdentifier],b.routingEventListener=()=>{b.bootstrappedNgZone.run(()=>{})})})}function Y(b,A){return(0,E.mG)(this,void 0,void 0,function*(){!function(b,A){const $=function(b,A){var $;return(A=null!==($=null==A?void 0:A.customProps)&&void 0!==$?$:A).domElement?()=>A.domElement:A.domElementGetter?A.domElementGetter:b.domElementGetter?b.domElementGetter:function(b){return function(){const $=`single-spa-application:${b}`;let F=document.getElementById($);return F||(F=document.createElement("div"),F.id=$,document.body.appendChild(F)),F}}(A.name)}(b,A);if(!$)throw Error(`Cannot mount angular application '${A.name||A.appName}' without a domElementGetter provided either as an opt or a prop`);const F=function(b){const A=b();if(!A)throw Error("domElementGetter did not return a valid dom element");return A}($);F.innerHTML=b.template}(b,A);const $=b.bootstrapFunction(A);if(!($ instanceof Promise))throw Error(`single-spa-angular: the options.bootstrapFunction must return a promise, but instead returned a '${typeof $}' that is not a Promise`);const F=yield $;if(!F||"function"!=typeof F.destroy)throw Error("single-spa-angular: the options.bootstrapFunction returned a promise that did not resolve with a valid Angular module. Did you call platformBrowserDynamic().bootstrapModule() correctly?");const le=F.injector.get(H,null),J="noop"!==b.NgZone;if(J&&b.Router&&null===le)throw new Error("\n      single-spa-angular: could not retrieve extra providers from the platform injector. Did you call platformBrowserDynamic(getSingleSpaExtraProviders()).bootstrapModule()?\n    ");const he=b;if(J){const Ie=F.injector.get(b.NgZone),qe=he.zoneIdentifier;null!==le&&function(b,A){if(!A.NavigationStart)return;const $=b.injector.get(A.Router),F=$.events.subscribe(le=>{if(le instanceof A.NavigationStart){const J=$.getCurrentNavigation();"imperative"!==J.trigger&&(J.extras.skipLocationChange=!0,J.extras.replaceUrl=!1)}});b.onDestroy(()=>{F.unsubscribe()})}(F,b),he.bootstrappedNgZone=Ie,he.bootstrappedNgZone._inner._properties[qe]=!0,window.addEventListener("single-spa:routing-event",he.routingEventListener)}return he.bootstrappedModule=F,F})}function se(b){return Promise.resolve().then(()=>{b.routingEventListener&&window.removeEventListener("single-spa:routing-event",b.routingEventListener),b.bootstrappedModule.destroy(),b.bootstrappedModule=null})}},4213:(Se,W,f)=>{f.d(W,{Z:()=>te});var E,L=new Uint8Array(16);function T(){if(!E&&!(E="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return E(L)}for(var z=f(6290),w=[],I=0;I<256;++I)w.push((I+256).toString(16).substr(1));const te=function(v,R,Y){var se=(v=v||{}).random||(v.rng||T)();if(se[6]=15&se[6]|64,se[8]=63&se[8]|128,R){Y=Y||0;for(var K=0;K<16;++K)R[Y+K]=se[K];return R}return function(v){var R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,Y=(w[v[R+0]]+w[v[R+1]]+w[v[R+2]]+w[v[R+3]]+"-"+w[v[R+4]]+w[v[R+5]]+"-"+w[v[R+6]]+w[v[R+7]]+"-"+w[v[R+8]]+w[v[R+9]]+"-"+w[v[R+10]]+w[v[R+11]]+w[v[R+12]]+w[v[R+13]]+w[v[R+14]]+w[v[R+15]]).toLowerCase();if(!(0,z.Z)(Y))throw TypeError("Stringified UUID is invalid");return Y}(se)}},6290:(Se,W,f)=>{f.d(W,{Z:()=>T});const E=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,T=function(z){return"string"==typeof z&&E.test(z)}},3127:(Se,W,f)=>{f.d(W,{Z:()=>L});const L=function(T,z){for(var w=-1,I=z.length,X=T.length;++w<I;)T[X+w]=z[w];return T}},937:(Se,W,f)=>{f.d(W,{Z:()=>z});var E=f(3127),L=f(4897);const z=function(w,I,X){var H=I(w);return(0,L.Z)(w)?H:(0,E.Z)(H,X(w))}},2863:(Se,W,f)=>{f.d(W,{Z:()=>H});var E=f(9225);const z=(0,f(7632).Z)(Object.keys,Object);var I=Object.prototype.hasOwnProperty;const H=function(B){if(!(0,E.Z)(B))return z(B);var te=[];for(var v in Object(B))I.call(B,v)&&"constructor"!=v&&te.push(v);return te}},536:(Se,W,f)=>{f.d(W,{Z:()=>w});var E=f(937),L=f(4261),T=f(9779);const w=function(I){return(0,E.Z)(I,T.Z,L.Z)}},4261:(Se,W,f)=>{f.d(W,{Z:()=>H});var T=f(1261),w=Object.prototype.propertyIsEnumerable,I=Object.getOwnPropertySymbols;const H=I?function(B){return null==B?[]:(B=Object(B),function(B,te){for(var v=-1,R=null==B?0:B.length,Y=0,se=[];++v<R;){var K=B[v];te(K,v,B)&&(se[Y++]=K)}return se}(I(B),function(te){return w.call(B,te)}))}:T.Z},2456:(Se,W,f)=>{f.d(W,{Z:()=>Je});var E=f(285),L=f(3935);const z=(0,E.Z)(L.Z,"DataView");var w=f(1347);const X=(0,E.Z)(L.Z,"Promise"),B=(0,E.Z)(L.Z,"Set"),v=(0,E.Z)(L.Z,"WeakMap");var R=f(4814),Y=f(8612),se="[object Map]",b="[object Promise]",A="[object Set]",$="[object WeakMap]",F="[object DataView]",le=(0,Y.Z)(z),J=(0,Y.Z)(w.Z),he=(0,Y.Z)(X),Ie=(0,Y.Z)(B),qe=(0,Y.Z)(v),ye=R.Z;(z&&ye(new z(new ArrayBuffer(1)))!=F||w.Z&&ye(new w.Z)!=se||X&&ye(X.resolve())!=b||B&&ye(new B)!=A||v&&ye(new v)!=$)&&(ye=function(Ke){var et=(0,R.Z)(Ke),Le="[object Object]"==et?Ke.constructor:void 0,je=Le?(0,Y.Z)(Le):"";if(je)switch(je){case le:return F;case J:return se;case he:return b;case Ie:return A;case qe:return $}return et});const Je=ye},192:(Se,W,f)=>{f.d(W,{Z:()=>us});var E=f(6585);var z=f(30),w=f(7426),I=f(9779);var B=f(7787);var R=f(3135),Y=f(4873),se=f(4261);var A=f(3127),$=f(5763),F=f(1261);const he=Object.getOwnPropertySymbols?function(d){for(var Z=[];d;)(0,A.Z)(Z,(0,se.Z)(d)),d=(0,$.Z)(d);return Z}:F.Z;var ye=f(536),Je=f(937);const et=function(d){return(0,Je.Z)(d,B.Z,he)};var Le=f(2456),ys=Object.prototype.hasOwnProperty;var ht=f(8190);var zs=/\w*$/;var wt=f(7122),dt=wt.Z?wt.Z.prototype:void 0,Ae=dt?dt.valueOf:void 0;var gs=f(6038);const gt=function(d,Z,ee){var we=d.constructor;switch(Z){case"[object ArrayBuffer]":return(0,ht.Z)(d);case"[object Boolean]":case"[object Date]":return new we(+d);case"[object DataView]":return function(d,Z){var ee=Z?(0,ht.Z)(d.buffer):d.buffer;return new d.constructor(ee,d.byteOffset,d.byteLength)}(d,ee);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return(0,gs.Z)(d,ee);case"[object Map]":case"[object Set]":return new we;case"[object Number]":case"[object String]":return new we(d);case"[object RegExp]":return function(d){var Z=new d.constructor(d.source,zs.exec(d));return Z.lastIndex=d.lastIndex,Z}(d);case"[object Symbol]":return function(d){return Ae?Object(Ae.call(d)):{}}(d)}};var Mt=f(5193),Es=f(4897),ts=f(3235),Ge=f(4195);var It=f(4456),Qe=f(7495),Lt=Qe.Z&&Qe.Z.isMap;const Ss=Lt?(0,It.Z)(Lt):function(d){return(0,Ge.Z)(d)&&"[object Map]"==(0,Le.Z)(d)};var Ts=f(7784);var St=Qe.Z&&Qe.Z.isSet;const Zt=St?(0,It.Z)(St):function(d){return(0,Ge.Z)(d)&&"[object Set]"==(0,Le.Z)(d)};var is="[object Arguments]",jt="[object Function]",rs="[object Object]",Q={};Q[is]=Q["[object Array]"]=Q["[object ArrayBuffer]"]=Q["[object DataView]"]=Q["[object Boolean]"]=Q["[object Date]"]=Q["[object Float32Array]"]=Q["[object Float64Array]"]=Q["[object Int8Array]"]=Q["[object Int16Array]"]=Q["[object Int32Array]"]=Q["[object Map]"]=Q["[object Number]"]=Q[rs]=Q["[object RegExp]"]=Q["[object Set]"]=Q["[object String]"]=Q["[object Symbol]"]=Q["[object Uint8Array]"]=Q["[object Uint8ClampedArray]"]=Q["[object Uint16Array]"]=Q["[object Uint32Array]"]=!0,Q["[object Error]"]=Q[jt]=Q["[object WeakMap]"]=!1;const Fs=function nt(d,Z,ee,we,it,Oe){var x,We=1&Z,Ce=2&Z,Gt=4&Z;if(ee&&(x=it?ee(d,we,it,Oe):ee(d)),void 0!==x)return x;if(!(0,Ts.Z)(d))return d;var cs=(0,Es.Z)(d);if(cs){if(x=function(d){var Z=d.length,ee=new d.constructor(Z);return Z&&"string"==typeof d[0]&&ys.call(d,"index")&&(ee.index=d.index,ee.input=d.input),ee}(d),!We)return(0,Y.Z)(d,x)}else{var xe=(0,Le.Z)(d),At=xe==jt||"[object GeneratorFunction]"==xe;if((0,ts.Z)(d))return(0,R.Z)(d,We);if(xe==rs||xe==is||At&&!it){if(x=Ce||At?{}:(0,Mt.Z)(d),!We)return Ce?function(d,Z){return(0,w.Z)(d,he(d),Z)}(d,function(d,Z){return d&&(0,w.Z)(Z,(0,B.Z)(Z),d)}(x,d)):function(d,Z){return(0,w.Z)(d,(0,se.Z)(d),Z)}(d,function(d,Z){return d&&(0,w.Z)(Z,(0,I.Z)(Z),d)}(x,d))}else{if(!Q[xe])return it?d:{};x=gt(d,xe,We)}}Oe||(Oe=new E.Z);var Qt=Oe.get(d);if(Qt)return Qt;Oe.set(d,x),Zt(d)?d.forEach(function(Ne){x.add(nt(Ne,Z,ee,Ne,d,Oe))}):Ss(d)&&d.forEach(function(Ne,De){x.set(De,nt(Ne,Z,ee,De,d,Oe))});var rt=cs?void 0:(Gt?Ce?et:ye.Z:Ce?B.Z:I.Z)(d);return function(d,Z){for(var ee=-1,we=null==d?0:d.length;++ee<we&&!1!==Z(d[ee],ee,d););}(rt||d,function(Ne,De){rt&&(Ne=d[De=Ne]),(0,z.Z)(x,De,nt(Ne,Z,ee,De,d,Oe))}),x},us=function(d){return Fs(d,5)}},1821:(Se,W,f)=>{f.d(W,{Z:()=>Ys});var E=f(6585),L=f(9508);function H(o){var c=-1,m=null==o?0:o.length;for(this.__data__=new L.Z;++c<m;)this.add(o[c])}H.prototype.add=H.prototype.push=function(o){return this.__data__.set(o,"__lodash_hash_undefined__"),this},H.prototype.has=function(o){return this.__data__.has(o)};const B=H,v=function(o,c){for(var m=-1,p=null==o?0:o.length;++m<p;)if(c(o[m],m,o))return!0;return!1},Y=function(o,c){return o.has(c)},A=function(o,c,m,p,C,S){var G=1&m,V=o.length,ne=c.length;if(V!=ne&&!(G&&ne>V))return!1;var oe=S.get(o),pe=S.get(c);if(oe&&pe)return oe==c&&pe==o;var ue=-1,q=!0,Me=2&m?new B:void 0;for(S.set(o,c),S.set(c,o);++ue<V;){var de=o[ue],ge=c[ue];if(p)var Ve=G?p(ge,de,ue,c,o,S):p(de,ge,ue,o,c,S);if(void 0!==Ve){if(Ve)continue;q=!1;break}if(Me){if(!v(c,function(at,ot){if(!Y(Me,ot)&&(de===at||C(de,at,m,p,S)))return Me.push(ot)})){q=!1;break}}else if(de!==ge&&!C(de,ge,m,p,S)){q=!1;break}}return S.delete(o),S.delete(c),q};var $=f(7122),F=f(9822),le=f(5326);const he=function(o){var c=-1,m=Array(o.size);return o.forEach(function(p,C){m[++c]=[C,p]}),m},qe=function(o){var c=-1,m=Array(o.size);return o.forEach(function(p){m[++c]=p}),m};var tt=$.Z?$.Z.prototype:void 0,ke=tt?tt.valueOf:void 0;var Ae=f(536),gs=Object.prototype.hasOwnProperty;var be=f(2456),Re=f(4897),Ct=f(3235),Te=f(2955),Ue="[object Arguments]",Xt="[object Array]",ze="[object Object]",st=Object.prototype.hasOwnProperty;const _s=function(o,c,m,p,C,S){var G=(0,Re.Z)(o),V=(0,Re.Z)(c),ne=G?Xt:(0,be.Z)(o),oe=V?Xt:(0,be.Z)(c),pe=(ne=ne==Ue?ze:ne)==ze,ue=(oe=oe==Ue?ze:oe)==ze,q=ne==oe;if(q&&(0,Ct.Z)(o)){if(!(0,Ct.Z)(c))return!1;G=!0,pe=!1}if(q&&!pe)return S||(S=new E.Z),G||(0,Te.Z)(o)?A(o,c,m,p,C,S):function(o,c,m,p,C,S,G){switch(m){case"[object DataView]":if(o.byteLength!=c.byteLength||o.byteOffset!=c.byteOffset)return!1;o=o.buffer,c=c.buffer;case"[object ArrayBuffer]":return!(o.byteLength!=c.byteLength||!S(new F.Z(o),new F.Z(c)));case"[object Boolean]":case"[object Date]":case"[object Number]":return(0,le.Z)(+o,+c);case"[object Error]":return o.name==c.name&&o.message==c.message;case"[object RegExp]":case"[object String]":return o==c+"";case"[object Map]":var V=he;case"[object Set]":if(V||(V=qe),o.size!=c.size&&!(1&p))return!1;var oe=G.get(o);if(oe)return oe==c;p|=2,G.set(o,c);var pe=A(V(o),V(c),p,C,S,G);return G.delete(o),pe;case"[object Symbol]":if(ke)return ke.call(o)==ke.call(c)}return!1}(o,c,ne,m,p,C,S);if(!(1&m)){var Me=pe&&st.call(o,"__wrapped__"),de=ue&&st.call(c,"__wrapped__");if(Me||de){var ge=Me?o.value():o,Ve=de?c.value():c;return S||(S=new E.Z),C(ge,Ve,m,p,S)}}return!!q&&(S||(S=new E.Z),function(o,c,m,p,C,S){var G=1&m,V=(0,Ae.Z)(o),ne=V.length;if(ne!=(0,Ae.Z)(c).length&&!G)return!1;for(var ue=ne;ue--;){var q=V[ue];if(!(G?q in c:gs.call(c,q)))return!1}var Me=S.get(o),de=S.get(c);if(Me&&de)return Me==c&&de==o;var ge=!0;S.set(o,c),S.set(c,o);for(var Ve=G;++ue<ne;){var at=o[q=V[ue]],ot=c[q];if(p)var js=G?p(ot,at,q,c,o,S):p(at,ot,q,o,c,S);if(!(void 0===js?at===ot||C(at,ot,m,p,S):js)){ge=!1;break}Ve||(Ve="constructor"==q)}if(ge&&!Ve){var fs=o.constructor,ds=c.constructor;fs!=ds&&"constructor"in o&&"constructor"in c&&!("function"==typeof fs&&fs instanceof fs&&"function"==typeof ds&&ds instanceof ds)&&(ge=!1)}return S.delete(o),S.delete(c),ge}(o,c,m,p,C,S))};var pt=f(4195);const Nt=function Jt(o,c,m,p,C){return o===c||(null==o||null==c||!(0,pt.Z)(o)&&!(0,pt.Z)(c)?o!=o&&c!=c:_s(o,c,m,p,Jt,C))};var Mt=f(7784);const ts=function(o){return o==o&&!(0,Mt.Z)(o)};var Ge=f(9779);const It=function(o,c){return function(m){return null!=m&&m[o]===c&&(void 0!==c||o in Object(m))}},Lt=function(o){var c=function(o){for(var c=(0,Ge.Z)(o),m=c.length;m--;){var p=c[m],C=o[p];c[m]=[p,C,ts(C)]}return c}(o);return 1==c.length&&c[0][2]?It(c[0][0],c[0][1]):function(m){return m===o||function(o,c,m,p){var C=m.length,S=C,G=!p;if(null==o)return!S;for(o=Object(o);C--;){var V=m[C];if(G&&V[2]?V[1]!==o[V[0]]:!(V[0]in o))return!1}for(;++C<S;){var ne=(V=m[C])[0],oe=o[ne],pe=V[1];if(G&&V[2]){if(void 0===oe&&!(ne in o))return!1}else{var ue=new E.Z;if(p)var q=p(oe,pe,ne,o,c,ue);if(!(void 0===q?Nt(pe,oe,3,p,ue):q))return!1}}return!0}(m,o,c)}};var Rt=f(1742),Ss=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ts=/^\w*$/;const Ft=function(o,c){if((0,Re.Z)(o))return!1;var m=typeof o;return!("number"!=m&&"symbol"!=m&&"boolean"!=m&&null!=o&&!(0,Rt.Z)(o))||Ts.test(o)||!Ss.test(o)||null!=c&&o in Object(c)};function St(o,c){if("function"!=typeof o||null!=c&&"function"!=typeof c)throw new TypeError("Expected a function");var m=function(){var p=arguments,C=c?c.apply(this,p):p[0],S=m.cache;if(S.has(C))return S.get(C);var G=o.apply(this,p);return m.cache=S.set(C,G)||S,G};return m.cache=new(St.Cache||L.Z),m}St.Cache=L.Z;var As=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,is=/\\(\\)?/g;const Ps=(c=St(function(o){var c=[];return 46===o.charCodeAt(0)&&c.push(""),o.replace(As,function(m,p,C,S){c.push(C?S.replace(is,"$1"):p||m)}),c},function(p){return 500===m.size&&m.clear(),p}),m=c.cache,c);var c,m,ws=f(196);const jt=function(o,c){return(0,Re.Z)(o)?o:Ft(o,c)?[o]:Ps((0,ws.Z)(o))},Be=function(o){if("string"==typeof o||(0,Rt.Z)(o))return o;var c=o+"";return"0"==c&&1/o==-1/0?"-0":c},$t=function(o,c){for(var m=0,p=(c=jt(c,o)).length;null!=o&&m<p;)o=o[Be(c[m++])];return m&&m==p?o:void 0},Qs=function(o,c){return null!=o&&c in Object(o)};var Cs=f(6163),Ws=f(2683),Ns=f(6509);const os=function(o,c){return null!=o&&function(o,c,m){for(var p=-1,C=(c=jt(c,o)).length,S=!1;++p<C;){var G=Be(c[p]);if(!(S=null!=o&&m(o,G)))break;o=o[G]}return S||++p!=C?S:!!(C=null==o?0:o.length)&&(0,Ns.Z)(C)&&(0,Ws.Z)(G,C)&&((0,Re.Z)(o)||(0,Cs.Z)(o))}(o,c,Qs)},Rs=function(o,c){return Ft(o)&&ts(c)?It(Be(o),c):function(m){var p=function(o,c,m){var p=null==o?void 0:$t(o,c);return void 0===p?m:p}(m,o);return void 0===p&&p===c?os(m,o):Nt(c,p,3)}};var Q=f(6168);const us=function(o){return Ft(o)?function(o){return function(c){return null==c?void 0:c[o]}}(Be(o)):function(o){return function(c){return $t(c,o)}}(o)},Z=function(o){return"function"==typeof o?o:null==o?Q.Z:"object"==typeof o?(0,Re.Z)(o)?Rs(o[0],o[1]):Lt(o):us(o)};var ee=f(4001);var We=/\s/;var cs=/^\s+/;const At=function(o){return o&&o.slice(0,function(o){for(var c=o.length;c--&&We.test(o.charAt(c)););return c}(o)+1).replace(cs,"")};var Ks=/^[-+]0x[0-9a-f]+$/i,rt=/^0b[01]+$/i,Ne=/^0o[0-7]+$/i,De=parseInt;const bt=function(o){return o?1/0===(o=function(o){if("number"==typeof o)return o;if((0,Rt.Z)(o))return NaN;if((0,Mt.Z)(o)){var c="function"==typeof o.valueOf?o.valueOf():o;o=(0,Mt.Z)(c)?c+"":c}if("string"!=typeof o)return 0===o?o:+o;o=At(o);var m=rt.test(o);return m||Ne.test(o)?De(o.slice(2),m?2:8):Ks.test(o)?NaN:+o}(o))||-1/0===o?17976931348623157e292*(o<0?-1:1):o==o?o:0:0===o?o:0};var Hs=Math.max;const Ys=function(c,m,p){var C=Object(c);if(!(0,ee.Z)(c)){var S=Z(m);c=(0,Ge.Z)(c),m=function(V){return S(C[V],V,C)}}var G=function(o,c,m){var p=null==o?0:o.length;if(!p)return-1;var C=null==m?0:function(o){var c=bt(o),m=c%1;return c==c?m?c-m:c:0}(m);return C<0&&(C=Hs(p+C,0)),function(o,c,m,p){for(var C=o.length,S=m+(p?1:-1);p?S--:++S<C;)if(c(o[S],S,o))return S;return-1}(o,Z(c),C)}(c,m,p);return G>-1?C[S?c[G]:G]:void 0}},4488:(Se,W,f)=>{f.d(W,{Z:()=>se});var E=f(2863),L=f(2456),T=f(6163),z=f(4897),w=f(4001),I=f(3235),X=f(9225),H=f(2955),R=Object.prototype.hasOwnProperty;const se=function(K){if(null==K)return!0;if((0,w.Z)(K)&&((0,z.Z)(K)||"string"==typeof K||"function"==typeof K.splice||(0,I.Z)(K)||(0,H.Z)(K)||(0,T.Z)(K)))return!K.length;var b=(0,L.Z)(K);if("[object Map]"==b||"[object Set]"==b)return!K.size;if((0,X.Z)(K))return!(0,E.Z)(K).length;for(var A in K)if(R.call(K,A))return!1;return!0}},9779:(Se,W,f)=>{f.d(W,{Z:()=>w});var E=f(6536),L=f(2863),T=f(4001);const w=function(I){return(0,T.Z)(I)?(0,E.Z)(I):(0,L.Z)(I)}},1261:(Se,W,f)=>{f.d(W,{Z:()=>L});const L=function(){return[]}}}]);